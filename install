#!/bin/bash

# Script de instala√ß√£o do SysUtil
# Autor: Matheus Wesley
# Vers√£o: 7.0

set -e  # Para em erro

info_msg " Baixando o Sysutil..."

# Verifica se git est√° instalado
if ! command -v git &> /dev/null; then
    error_msg "‚ùå Git n√£o encontrado. Instale git primeiro (ex.: apt install git ou brew install git)."
    exit 1
fi

# Diret√≥rio de instala√ß√£o (ex.: ~/.meu-projeto)
INSTALL_DIR="$HOME/.meu-projeto"
if [ -d "$INSTALL_DIR" ]; then
    info_msg "üìÅ Diret√≥rio $INSTALL_DIR j√° existe. Removendo..."
    rm -rf "$INSTALL_DIR"
fi

# Clona o repo (ou baixe via wget se preferir arquivos soltos)
REPO_URL="https://github.com/matwdot/sysutil.git"
git clone "$REPO_URL" "$INSTALL_DIR" --quiet
cd "$INSTALL_DIR"

# Torna o script principal execut√°vel
chmod +x sysutil

# Executa o script principal (passe argumentos se precisar: $@)
info_msg "üöÄ Executando o projeto..."
./sysutil

success_msg "‚úÖ Instala√ß√£o conclu√≠da! O projeto est√° em $INSTALL_DIR."
info_msg "Para rodar novamente: cd $INSTALL_DIR && ./sysutil"